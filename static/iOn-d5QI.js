import{a1 as t}from"./CX71UtI7.js";import{X as n,Q as r,c as e,Y as a,U as i,W as s,r as o}from"./DCI6mILC.js";const m={params:[{name:"p",tooltip:"單次成功機率",min:0,max:1,default:.8,step:"any"}],domain:()=>({min:0,max:1,step:1}),isInDomain:(t,n)=>0===n||1===n,pdf(t,n){const{p:r}=t;return this.isInDomain(t,n)?1===n?r:1-r:0},cdf:(t,n)=>n<0?0:n<1?1-t.p:1,mean:t=>t.p,variance(t){const{p:n}=t;return n*(1-n)}},c={params:[{name:"n",tooltip:"隨機試驗次數",min:1,default:20,step:1},{name:"p",tooltip:"單次成功機率",min:0,max:1,default:.5,step:"any"}],domain:t=>({min:0,max:t.n,step:1}),isInDomain:(t,n)=>Number.isInteger(n)&&n>=0&&n<=t.n,pdf(t,r){const{n:e,p:a}=t;return this.isInDomain(t,r)&&0!==a&&1!==a?n(e,r)*a**r*(1-a)**(e-r):0},cdf(t,n){const{n:e,p:a}=t;return n>e?1:n<0?0:r(1-a,e-n,1+n)},mean(t){const{n:n,p:r}=t;return n*r},variance(t){const{n:n,p:r}=t;return n*r*(1-r)}},u={params:[{name:"min",tooltip:"最小值",max:t=>t.max,default:1,step:"any"},{name:"max",tooltip:"最大值",min:t=>t.min,default:100,step:"any"}],domain:t=>({...t,step:1}),isInDomain(t,n){const{min:r,max:e}=t;return Number.isInteger(n)&&r<=n&&n<=e},counts(t){const{min:n,max:r}=t;return r-n+1},pdf(t,n){return this.isInDomain(t,n)?1/this.counts(t):0},cdf(t,n){const{min:r}=t;return e((Math.floor(n)-r+1)/this.counts(t),0,1)},mean(t){const{min:n,max:r}=t;return(n+r)/2},variance(t){return(this.counts(t)**2-1)/2}},p={params:[{name:"p",tooltip:"單次成功機率",min:0,max:1,default:.5,step:"any"}],domain:()=>({min:1,step:1}),isInDomain:(t,n)=>Number.isInteger(n)&&n>=1,pdf(t,n){const{p:r}=t;return this.isInDomain(t,n)?(1-r)**(n-1)*r:0},cdf(t,n){const{p:r}=t;return n<1?0:1-(1-r)**Math.floor(n)},mean(t){const{p:n}=t;return 1/n},variance(t){const{p:n}=t;return(1-n)/n**2}},l={params:[{name:"N",tooltip:"樣品總數量",min:0,default:100},{name:"K",tooltip:"符合樣品數量",min:0,max:t=>t.N,default:50},{name:"n",tooltip:"抽樣次數",min:0,max:t=>t.N,default:50}],domain(t){const{N:n,K:r,n:e}=t;return{min:Math.max(0,e+r-n),max:Math.min(e,r),step:1}},isInDomain(t,n){const{N:r,K:e,n:a}=t;return Number.isInteger(n)&&n>=Math.max(0,a+e-r)&&n<=Math.min(a,e)},pdf(t,r){const{N:e,K:a,n:i}=t;return this.isInDomain(t,r)?n(a,r)/n(e,i)*n(e-a,i-r):0},cdf(t,n){n=Math.floor(n);const{N:r,K:e,n:i}=t,s=Math.max(0,i+e-r);return n<s?0:n>=Math.min(i,e)?1:a(Array.from({length:n-s+1}),((n,r,e)=>n+this.pdf(t,s+e)))},mean(t){const{N:n,K:r,n:e}=t;return e*r/n},variance(t){const{N:n,K:r,n:e}=t;return e*r/n*(n-r)/n*(n-e)/(n-1)}},d={params:[{name:"N",tooltip:"樣品總數量",min:0,default:50},{name:"K",tooltip:"符合樣品數量",min:0,max:t=>t.N,default:25},{name:"r",tooltip:"抽到不符合樣品的次數",min:0,max:t=>t.N-t.K,default:15}],domain(t){const{K:n}=t;return{min:0,max:n,step:1}},isInDomain(t,n){const{K:r}=t;return Number.isInteger(n)&&n>=0&&n<=r},pdf(t,r){const{N:e,K:a,r:i}=t;return this.isInDomain(t,r)?n(a+i-1,r)/n(e,a)*n(e-i-r,a-r):0},cdf(t,n){n=Math.floor(n);const{K:r}=t;return n<0?0:n>=r?1:a(Array.from({length:n+1}),((n,r,e)=>n+this.pdf(t,e)))},mean(t){const{N:n,K:r,r:e}=t;return e*r/(n-r+1)},variance(t){const{N:n,K:r,r:e}=t;return e*(n+1)*r/((n-r+1)*(n-r+2))*(1-e/(n-r+1))}},h=Object.freeze(Object.defineProperty({__proto__:null,Bernoulli:m,Binomial:c,Geometric:p,Hypergeometric:l,NegativeHypergeometric:d,Uniform:u},Symbol.toStringTag,{value:"Module"})),f=["Bernoulli","Binomial","Geometric","Hypergeometric","NegativeHypergeometric","Uniform"],g=t("discrete",{state:()=>{const{args:t,vars:n}=i(h,f);return{current_:f[0],__args_:t,__vars_:n,calc_:{place_:s,toPercentage_:!0},chart_:{points_:200,extended_:10}}},getters:{paramRanges(){return this.distribution.params.map((({name:t,min:n,max:r,step:e})=>({name:t,min:"number"==typeof n?n:null==n?void 0:n(this.args),max:"number"==typeof r?r:null==r?void 0:r(this.args),step:e})))},varDomain(){return this.distribution.domain(this.args)},args(){return this.__args_[this.current_]},vars(){return this.__vars_[this.current_]},distribution(){return h[this.current_]}},actions:{setCurrent(t){this.current_=f.includes(t)?t:f[0]},setArg(t,n){isNaN(+n)||(this.args[t]=+n)},setVars(t,n){isNaN(+n)||(this.vars[t]=+n)},pdf(t){const{calc_:{place_:n}}=this;return o(this.distribution.pdf(this.args,t),n)},calcProb(t){const{calc_:{place_:n,toPercentage_:r}}=this,e=this.distribution,a=Math.min(...t),i=Math.max(...t),s=r?100:1,m=s*e.pdf(this.args,a),c=s*e.pdf(this.args,i),u=s*e.cdf(this.args,a),p=s*(1-e.cdf(this.args,i-1)),l=u+p,d=s-l+m+c;return{left:o(m,n),right:o(c,n),below:o(u,n),above:o(p,n),belowExcl:o(u-m,n),aboveExcl:o(p-c,n),between:o(d,n),outside:o(l,n)}}}});export{f as d,g as u};
