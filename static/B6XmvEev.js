import{V as a,a as e,T as l,_ as t}from"./Dcz1rXWr.js";import{V as o,a as s,_ as n,b as i,c as r,d,e as u}from"./BCmhvwlM.js";import{u as m}from"./iOn-d5QI.js";import{i as c,s as p,a as v,l as f,v as x,r as b}from"./DCI6mILC.js";import{d as _,t as g,i as y,r as h,D as V,E as w,v as P,F as j,B as k,A as U,G as D,H as X,y as N,C as $,I,x as L,J as R,K as C,z as K,L as A,M as E,N as M}from"./CX71UtI7.js";import{V as F}from"./DDz38GW_.js";import{V as G}from"./1d4GfrKS.js";import{V as z,a as B,b as H}from"./C-zaSUaO.js";import{V as J,a as T,b as q}from"./vn2KL35u.js";import"./D0oY24ob.js";const O=_({__name:"discrete-distribution",setup(_){g({title:"Probability Calculator - Discrete Probability Distribution"});const O=m(),Q=y((()=>{const a=O.distribution,{min:e,max:l}=O.varDomain;return`Domain: ${c(e)?"(-∞":a.isInDomain(O.args,e)?`[${e}`:`(${e}`}, ${c(l)?"∞)":a.isInDomain(O.args,l)?`${l}]`:`${l})`}`})),S=[{name:"P(X=L)",value:"left"},{name:"P(X=R)",value:"right"},{name:"P(X≤L)",value:"below"},{name:"P(X≥R)",value:"above"},{name:"P(X<L)",value:"belowExcl"},{name:"P(X>R)",value:"aboveExcl"},{name:"P(L≤X≤R)",value:"between"},{name:"P(X≤L or X≥R)",value:"outside"}],W=y((()=>p(O.vars))),Y=y((()=>O.calcProb(D(W)))),Z=y((()=>O.calc_.toPercentage_?"%":void 0)),aa=y((()=>{const{chart_:{points_:a,extended_:e}}=O,[l,t]=W.value,o=e/200,s=Math.ceil((t-l)*o),n=t-l+1+2*s<=a||0===a?v(l-s,t+s,1,b):f(l-s,t+s,a,b),i=Array(t-l+1+2*s);for(let r=0;r<i.length;r++)i[r]=O.pdf(n[r]);return{labels:n,datasets:[{data:i,backgroundColor:"#0c03"}]}})),ea=h(!1),la=[{text:"圖表",value:"chart"},{text:"計算",value:"calc"}],ta=h(la[0].value),oa=y({get:()=>O.chart_.extended_,set(a){isNaN(a)||(O.chart_.extended_=a)}}),sa=x(1,5,oa,{min:0,max:100}),na=y({get:()=>O.chart_.points_,set(a){isNaN(a)||(O.chart_.points_=a)}}),ia=x(50,100,na,{min:50,max:2e3}),ra=y({get:()=>O.calc_.place_,set(a){!isNaN(a)&&Number.isInteger(a)&&(O.calc_.place_=a)}}),da=h(!0),ua=V({plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(a){const e=a.parsed.x,l=[];return e<=W.value[0]&&l.push("below"),W.value[0]<=e&&e<=W.value[1]&&l.push("between"),e>=W.value[1]&&l.push("above"),`${a.parsed.y} (${l.join(",")})`}}}},scales:{x:{grid:{display:da.value}},y:{min:0,grid:{display:da.value}}}});return w(da,(a=>{ua.scales.x.grid.display=a,ua.scales.y.grid.display=a})),(m,c)=>{const p=t;return P(),j(F,{class:"d-flex flex-column h-100 pa-0 bg-white","max-width":"950"},{default:k((()=>[U(u,{noGutters:""},{default:k((()=>[U(o,{class:"elevation-3 px-2 py-4 d-flex flex-wrap justify-space-evenly align-content-start"},{default:k((()=>[U(p,{type:"bar",data:D(aa),options:D(ua)},{title:k((()=>[c[0]||(X(-1,!0),(c[0]=N("div",{class:"text-center"},[c[13]||(c[13]=$(" Partical Mass Function ")),U(G,{class:"float-right cursor-pointer",icon:"mdi-cog",onClick:a=>ea.value=!0},null,8,["onClick"])])).cacheIndex=0,X(1),c[0])])),_:1},8,["data","options"]),U(a,{modelValue:D(ea),"onUpdate:modelValue":c[8]||(c[8]=a=>I(ea)?ea.value=a:null),"max-width":"300","min-height":"400"},{default:k((()=>[U(z,null,{default:k((()=>[U(B,{tag:"h2",class:"font-weight-bold bg-primary d-flex align-center justify-space-between"},{default:k((()=>[c[14]||(c[14]=$(" 設定 ")),U(J,{icon:"mdi-close",density:"compact",variant:"text",onClick:c[1]||(c[1]=a=>ea.value=!1)})])),_:1}),U(T,{modelValue:D(ta),"onUpdate:modelValue":c[2]||(c[2]=a=>I(ta)?ta.value=a:null),class:"flex-0-0-100",items:la,"bg-color":"blue-grey-darken-2",color:"white",grow:"","hide-slider":""},{default:k((()=>[(P(),L(C,null,R(la,(a=>U(q,{key:a.value,class:"text-body-1",value:a.value,"base-color":"blue-grey-lighten-3",variant:"tonal",ripple:!1},{default:k((()=>[$(K(a.text),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"]),U(H,{class:"overflow-y-auto overflow-x-hidden pt-2"},{default:k((()=>["chart"===D(ta)?(P(),L(C,{key:0},[U(e,{modelValue:D(da),"onUpdate:modelValue":c[3]||(c[3]=a=>I(da)?da.value=a:null)},{prepend:k((({id:a})=>[U(s,{for:a.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"格線"},null,8,["for"])])),_:1},8,["modelValue"]),U(n,{label:"延伸範圍",min:"0",max:"100",suffix:"%","model-value":D(oa),"onUpdate:modelValue":c[4]||(c[4]=a=>oa.value=+a),onKeydown:D(sa)},{prepend:k((({props:a,text:e})=>[N("div",A(a,{class:"text-left"}),K(e),17)])),_:1},8,["model-value","onKeydown"]),U(n,{label:"數量",min:"50",max:"2000",step:"50","model-value":D(na),"onUpdate:modelValue":c[5]||(c[5]=a=>na.value=+a),onKeydown:D(ia)},{prepend:k((({props:a,text:e})=>[N("div",A(a,{class:"text-left"}),K(e),17)])),_:1},8,["model-value","onKeydown"])],64)):"calc"===D(ta)?(P(),L(C,{key:1},[U(e,{modelValue:D(O).calc_.toPercentage_,"onUpdate:modelValue":c[6]||(c[6]=a=>D(O).calc_.toPercentage_=a)},{prepend:k((({id:a})=>[U(s,{for:a.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"百分比"},null,8,["for"])])),_:1},8,["modelValue"]),U(n,{label:"小數位數",min:"0",max:"10",step:"1","model-value":D(ra),"onUpdate:modelValue":c[7]||(c[7]=a=>ra.value=+a)},{prepend:k((({props:a,text:e})=>[N("div",A(a,{class:"text-left"}),K(e),17)])),_:1},8,["model-value"])],64)):E("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),c[9]||(X(-1,!0),(c[9]=U(i,{class:"w-100 font-weight-bold",label:"計算結果",icon:"information-outline"},{default:k((()=>[U(r,{activator:"parent",location:"bottom"},{default:k((()=>[N("div",null," L=min(p1,p2)="+K(D(W)[0]),1),N("div",null," R=max(p1,p2)="+K(D(W)[1]),1)])),_:1})])),_:1})).cacheIndex=9,X(1),c[9]),(P(),L(C,null,R(S,(a=>U(n,{key:a.name,class:"flex-0-0",param:a,readonly:"",variant:"solo",flat:"",suffix:D(Z),"model-value":D(Y)[a.value]},null,8,["param","suffix","model-value"]))),64))])),_:1}),U(o,{class:"border rounded-md px-2 py-4",cols:"4"},{default:k((()=>[c[10]||(X(-1,!0),(c[10]=M(U(i,{class:"font-weight-bold",label:"參數",icon:"information-outline"},null,512),[[l,"最大、最小值將自動調整","bottom"]])).cacheIndex=10,X(1),c[10]),(P(!0),L(C,null,R(D(O).paramRanges,(a=>(P(),j(n,{key:a.name,param:a,"model-value":D(O).args[a.name],"onUpdate:modelValue":e=>D(O).setArg(a.name,+e)},null,8,["param","model-value","onUpdate:modelValue"])))),128)),U(d,{class:"my-3"}),M(U(i,{class:"font-weight-bold",label:"變數",icon:"information-outline"},null,512),[[l,D(Q),"bottom"]]),U(n,{label:"p1=",param:D(O).varDomain,"model-value":D(O).vars[0],"onUpdate:modelValue":c[11]||(c[11]=a=>D(O).setVars(0,a))},null,8,["param","model-value"]),U(n,{label:"p2=",param:D(O).varDomain,"model-value":D(O).vars[1],"onUpdate:modelValue":c[12]||(c[12]=a=>D(O).setVars(1,a))},null,8,["param","model-value"])])),_:1})])),_:1})])),_:1})}}});export{O as default};
