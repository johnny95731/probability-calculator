import{v as C,x as R,a0 as db,a1 as tm,d as g,Y as st,M as I,y as L,K as B,J as A,C as $,z as X,i as _,F as j,B as U,A as N,G as K,H as D,t as V,N as z,a2 as $e}from"./CLygsIoC.js";import{_ as o}from"./1tPrXgE0.js";import{V as a,d as n,e as d,b as t,_ as l}from"./Aa-mRKeE.js";import{c as em}from"./ChaVi1sj.js";import{u as eP}from"./J586zhkH.js";import{V as F}from"./BfKDNlkB.js";import"./iovqoryD.js";import"./D7h6Q_jA.js";import"./BOPhn_H-.js";import"./CUPcO2LI.js";const tP={xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 360 240","stroke-width":"1",width:"100%",fill:"none",style:{"aspect-ratio":"9 / 5"}};const i=Object.assign(o({},[["render",function(e,t){return C(),R("svg",tP,t[0]||(t[0]=[db('<circle cx="130" cy="120" r="100" fill="#ff7"></circle><circle cx="230" cy="120" r="100" fill="#7ff"></circle><path d="M180 33 a100 100 0 0 0 0 174 a100 100 0 0 0 0 -174 z" fill="#7fff80"></path><circle cx="130" cy="120" r="100" stroke="#000"></circle><circle cx="230" cy="120" r="100" stroke="#000"></circle><rect x="0" y="0" width="360" height="240" stroke="#000"></rect><g text-anchor="middle" stroke="none" fill="#000" font-size="30px" font-weight="bold"><text x="90" y="132">A</text><text x="180" y="132">A⋂B</text><text x="270" y="132">B</text></g>',7)]))}]]),{__name:"EulerDiagram"}),lP=e=>e>=0&&e<=1,aP={a:"A",b:"B",u:"A⋃B",i:"A⋂B",p:"A'",c:"A|B",ci:"B|A"};["a","b","u","i","s","p","c","ci"].forEach((e=>aP[aP[e]]=e));const sP=(e,t)=>{const l=e.includes("u"),a=e.includes("i"),s=[oP];return l&&s.push(nP),a&&s.push(rP),{keys:e,validator:s,formula:t}},oP=e=>Object.values(e).every((e=>lP(e)))?null:"事件機率需介於0~1。",nP=e=>!(e.a>e.u||e.b>e.u)?null:"事件聯集的機率不能小於個別事件發生的機率。",rP=e=>!(e.a<e.i||e.b<e.i)?null:"事件交集的機率不能大於個別事件發生的機率。",iP=["A","A⋂B","A⋃B","AΔB"],uP={A:[sP(["p"],(e=>["1 - P(A')",`1 - ${e.p}`,""+(1-e.p)])),sP(["b","i"],(e=>["P(A⋂B) / P(B)",`${e.i} / ${e.b}`,""+e.i/e.b])),sP(["b","u"],(e=>["P(A⋂B') / P(B')","(P(A⋃B) - P(B)) / (1 - P(B))",`(${e.u} - ${e.b}) / (1 - ${e.b})`,""+(e.u-e.b)/(1-e.b)]))],"A⋂B":[sP(["a","u"],(e=>["(P(A⋃B) - P(A)) * P(A) / (1 - P(A))",`(${e.u} - ${e.a}) * ${e.a} / (1 - ${e.a})`,""+(e.u-e.a)*e.a/(1-e.a)])),sP(["b","u"],(e=>["(P(A⋃B) - P(B)) * P(B) / (1 - P(B))",`(${e.u} - ${e.b}) * ${e.b} / (1 - ${e.b})`,""+(e.u-e.b)*e.b/(1-e.b)])),sP(["a","b"],(e=>["P(A) * P(B)",`${e.a} * ${e.b}`,""+e.a*e.b]))],"A⋃B":[sP(["a","i"],(e=>["P(A) + P(B) - P(A⋂B)","P(A) + P(A⋂B) / P(A) - P(A⋂B)",`${e.a} + ${e.i} / ${e.a} - ${e.i}`,""+(e.a+e.i/e.a-e.i)])),sP(["b","i"],(e=>["P(A) + P(B) - P(A⋂B)","P(A⋂B) / P(B) + P(B) - P(A⋂B)",`${e.b} + ${e.i} / ${e.b} - ${e.i}`,""+(e.i/e.b+e.b-e.i)])),sP(["a","b"],(e=>["P(A) + P(B) - P(A⋂B)","P(A) + P(B) - P(A) * P(B)",`${e.a} + ${e.b} - ${e.a} * ${e.b}`,""+(e.b/e.a+e.a-e.b)]))],"AΔB":[sP(["a","i"],(e=>["P(A) + P(B) - 2 * P(A⋂B)","P(A) + P(A⋂B) / P(A) - 2 * P(A⋂B)",`${e.a} + ${e.i} / ${e.a} - 2 * ${e.i}`,""+(e.a+e.i/e.a-2*e.i)])),sP(["b","i"],(e=>["P(A) + P(B) - 2 * P(A⋂B)","P(A⋂B) / P(B) + P(B) - 2 * P(A⋂B)",`${e.i} / ${e.b} + ${e.b} - 2 * ${e.i}`,""+(e.b+e.i/e.b-2*e.i)])),sP(["a","b"],(e=>["P(A) + P(B) - 2 * P(A⋂B)","P(A) + P(B) - 2 * P(A) * P(B)",`${e.a} + ${e.b} - 2 * ${e.a} * ${e.b}`,""+(e.a+e.b-2*e.a*e.b)]))]},PP=tm("independent",{state:()=>{const e={target:iP[0],optionIdx:0};for(const t of iP)e[t]=[],uP[t].forEach(((l,a)=>{e[t][a]=l.keys.reduce(((e,t)=>(e[t]=0,e)),{})}));return e},getters:{optionItem(){return uP[this.target][this.optionIdx]},params(){return this.optionItem.keys.map((e=>({key:e,label:aP[e]})))},formula(){return this.optionItem.formula(this.args)},args(){return this[this.target][this.optionIdx]},result(){const e=this.formula;return+e[e.length-1]},errorMessage(){return[lP(this.result)?null:`計算結果 P(${this.target})=${this.result} 無效。`,...this.optionItem.validator.map((e=>e(this.args)))].join("\n")}},actions:{updateTarget(e){this.target=e,this.optionIdx=0},setOption(e){this.optionIdx=+e},setArg(e,t){isNaN(+t)||(this.args[e]=em(t,0,1))}}}),dP={class:"formula-table"},mP={key:0},AP=g({__name:"FormulaTable",props:{title:{},formula:{}},setup:e=>(e,t)=>(C(),R("table",dP,[e.title||e.$slots.title?(C(),R("caption",mP,[st(e.$slots,"title",{},(()=>[$(X(e.title),1)]))])):I("",!0),L("tbody",null,[(C(!0),R(B,null,A(e.formula,((e,t)=>(C(),R("tr",{key:t},[(C(!0),R(B,null,A(e,(e=>(C(),R("td",{key:`${t}-${e}`},X(e),1)))),128))])))),128))])]))}),BP=Object.assign(AP,{__name:"FormulaTable"}),$P={class:"w-50 mx-auto"},cP=g({__name:"IndependentEvent",setup(e){const s=PP(),o=iP.map((e=>({title:`P(${e})`,value:e}))),r=iP.reduce(((e,t)=>(e[t]=uP[t].map(((e,t)=>({title:e.keys.map((e=>`P(${aP[e]})`)).join(", "),value:t}))),e)),{}),u=_({get:()=>s[s.target][s.optionIdx],set([e,t]){s.setArg(e,t)}}),P=_((()=>s.formula.map(((e,t)=>0===t?[`P(${s.target})`,"= "+e]:[null,"= "+e]))));return(e,m)=>{const c=i,p=t,b=l;return C(),j(d,null,{default:U((()=>[N(a,{class:"border rounded-md px-2 py-4 text-center"},{default:U((()=>[L("div",$P,[m[1]||(m[1]=$(" Euler Diagram ")),N(c)]),N(p,{class:"w-100 font-weight-bold",label:"計算結果"}),N(b,{class:"mx-auto",label:"計算結果",type:"text",prependText:`P(${K(s).target})=`,readonly:"",variant:"solo",flat:"","model-value":K(s).result,message:K(s).errorMessage},null,8,["prependText","model-value","message"]),N(BP,{class:"mx-auto",title:"算式",formula:P.value},{title:U((()=>[N(p,{class:"w-100 font-weight-bold",label:"算式"})])),C:1},8,["formula"])])),C:1}),N(a,{class:"border rounded-md px-2 py-4",cols:"4"},{default:U((()=>[N(b,{type:"select",label:"目標",items:K(o),"model-value":K(s).target,"onUpdate:modelValue":K(s).updateTarget},null,8,["items","model-value","onUpdate:modelValue"]),N(n,{class:"my-3"}),m[0]||(D(-1,!0),(m[0]=N(p,{class:"w-100 font-weight-bold",label:"參數"})).cacheIndex=0,D(1),m[0]),N(b,{type:"select",label:"選項",items:K(r)[K(s).target],"model-value":K(s).optionIdx,"onUpdate:modelValue":K(s).setOption},null,8,["items","model-value","onUpdate:modelValue"]),(C(!0),R(B,null,A(K(s).params,(({key:e,label:t})=>(C(),j(b,{key:e,label:t,prependText:`P(${t})=`,min:"0",max:"1",step:"any","model-value":u.value[e],"onUpdate:modelValue":t=>K(s).setArg(e,t)},null,8,["label","prependText","model-value","onUpdate:modelValue"])))),128))])),C:1})])),C:1})}}}),pP=Object.assign(cP,{__name:"EventProbabilityIndependentEvent"}),bP=["A","A⋂B","A⋃B","AΔB","A|B"],hP={A:[sP(["p"],(e=>["1 - P(A')",`1 - ${e.p}`,""+(1-e.p)])),sP(["b","i","u"],(e=>["P(A⋃B) - P(B) + P(A⋂B)",`${e.u} - ${e.b} + ${e.i}`,`${e.u-e.b+e.i}`])),sP(["b","ci"],(e=>["P(A⋂B) / P(B|A)",`${e.i} / ${e.ci}`,""+e.i/e.ci]))],"A⋂B":[sP(["a","b","u"],(e=>["P(A) + P(B) - P(A⋃B)",`${e.a} + ${e.b} - ${e.u}`,""+(e.a+e.b-e.u)])),sP(["b","c"],(e=>["P(B) * P(A|B)",`${e.b} * ${e.c}`,""+e.b*e.c])),sP(["a","ci"],(e=>["P(A) * P(B|A)",`${e.a} * ${e.ci}`,""+e.a*e.ci]))],"A⋃B":[sP(["a","b","i"],(e=>["P(A) + P(B) - P(A⋂B)",`${e.a} + ${e.b} - ${e.i}`,""+(e.a+e.b-e.i)])),sP(["a","b","c"],(e=>["P(A) + P(B) - P(A⋂B)","P(A) + P(B) - P(B) * P(A|B)",`${e.a} + ${e.b} - ${e.b} * ${e.c}`,""+(e.a+e.b-e.b*e.c)])),sP(["a","b","ci"],(e=>["P(A) + P(B) - P(A⋂B)","P(A) + P(B) - P(A) * P(B|A)",`${e.a} + ${e.b} - ${e.a} * ${e.ci}`,""+(e.a+e.b-e.a*e.ci)]))],"A|B":[sP(["b","i"],(e=>["P(A⋂B) / P(B)","P(A) + P(A⋂B) / P(A) - 2 * P(A⋂B)",`${e.a} + ${e.i} / ${e.a} - 2 * ${e.i}`,""+(e.a+e.i/e.a-2*e.i)])),sP(["a","i","u"],(e=>["P(A⋂B) / P(B)","P(A⋂B) / (P(A⋃B) - P(A) + P(A⋂B))",`${e.i} / (${e.u} - ${e.a} + ${e.i})`,""+e.i/(e.u-e.a+e.i)])),sP(["a","b","u"],(e=>["P(A⋂B) / P(B)","(P(A) + P(B) - P(A⋃B)) / P(B)",`(${e.a} + ${e.b} - ${e.u}) / ${e.b}`,""+(e.a+e.b-e.u)/e.b])),sP(["a","b","ci"],(e=>["P(B|A) * P(A) / P(B)",`${e.ci} * ${e.a} / ${e.b}`,""+e.ci*e.a/e.b]))],"AΔB":[sP(["a","b","i"],(e=>["P(A) + P(B) - 2 * P(A⋂B)",`${e.a} + ${e.b} - 2 * ${e.i}`,""+(e.a+e.b-2*e.i)])),sP(["a","b","u"],(e=>["P(A) + P(B) - 2 * P(A⋂B)","P(A) + P(B) - 2 * (P(A) + P(B) - P(A⋃B))",`${e.a} + ${e.b} - 2 * (${e.a} + ${e.b} -${e.u})`,""+(e.a+e.b-2*(e.a+e.b-e.u))]))]},fP=tm("dependent",{state:()=>{const e={target:bP[0],optionIdx:0};for(const t of bP)e[t]=[],hP[t].forEach(((l,a)=>{e[t][a]=l.keys.reduce(((e,t)=>(e[t]=0,e)),{})}));return e},getters:{optionItem(){return hP[this.target][this.optionIdx]},params(){return this.optionItem.keys.map((e=>({key:e,label:aP[e]})))},formula(){return this.optionItem.formula(this.args)},args(){return this[this.target][this.optionIdx]},result(){const e=this.formula;return+e[e.length-1]},errorMessage(){return[lP(this.result)?null:`計算結果 P(${this.target})=${this.result} 無效。`,...this.optionItem.validator.map((e=>e(this.args)))].join("\n")}},actions:{updateTarget(e){this.target=e,this.optionIdx=0},setOption(e){this.optionIdx=+e},setArg(e,t){isNaN(+t)||(this.args[e]=em(t,0,1))}}}),Ll={class:"w-50 mx-auto"},EO=g({__name:"DependentEvent",setup(e){const s=fP(),o=bP.map((e=>({title:`P(${e})`,value:e}))),r=bP.reduce(((e,t)=>(e[t]=hP[t].map(((e,t)=>({title:e.keys.map((e=>`P(${aP[e]})`)).join(", "),value:t}))),e)),{}),u=_({get:()=>s[s.target][s.optionIdx],set([e,t]){s.setArg(e,t)}}),P=_((()=>s.formula.map(((e,t)=>0===t?[`P(${s.target})`,"= "+e]:[null,"= "+e]))));return(e,m)=>{const c=i,p=t,b=l;return C(),j(d,null,{default:U((()=>[N(a,{class:"border rounded-md px-2 py-4 text-center"},{default:U((()=>[L("div",Ll,[m[1]||(m[1]=$(" Euler Diagram ")),N(c)]),N(p,{class:"w-100 font-weight-bold",label:"計算結果"}),N(b,{class:"mx-auto",label:"計算結果",type:"text",prependText:`P(${K(s).target})=`,readonly:"",variant:"solo",flat:"","model-value":K(s).result,message:K(s).errorMessage},null,8,["prependText","model-value","message"]),N(BP,{class:"mx-auto",title:"算式",formula:K(P)},{title:U((()=>[N(p,{class:"w-100 font-weight-bold",label:"算式"})])),C:1},8,["formula"])])),C:1}),N(a,{class:"border rounded-md px-2 py-4",cols:"4"},{default:U((()=>[N(b,{type:"select",label:"目標",items:K(o),"model-value":K(s).target,"onUpdate:modelValue":K(s).updateTarget},null,8,["items","model-value","onUpdate:modelValue"]),N(n,{class:"my-3"}),m[0]||(D(-1,!0),(m[0]=N(p,{class:"w-100 font-weight-bold",label:"參數"})).cacheIndex=0,D(1),m[0]),N(b,{type:"select",label:"選項",items:K(r)[K(s).target],"model-value":K(s).optionIdx,"onUpdate:modelValue":K(s).setOption},null,8,["items","model-value","onUpdate:modelValue"]),(C(!0),R(B,null,A(K(s).params,(({key:e,label:t})=>(C(),j(b,{key:e,label:t,prependText:`P(${t})=`,min:"0",max:"1",step:"any","model-value":K(u)[e],"onUpdate:modelValue":t=>K(s).setArg(e,t)},null,8,["label","prependText","model-value","onUpdate:modelValue"])))),128))])),C:1})])),C:1})}}}),xP=Object.assign(EO,{__name:"EventProbabilityDependentEvent"}),yP=["A","B","B|A"],vP=tm("bayes",{state:()=>yP.reduce(((e,t)=>(e[t]=0,e)),{}),getters:{result(){return this.A*this["B|A"]/this.B}},actions:{updateArg(e,t){this[e]=em(t,0,1)}}}),jl=g({__name:"BayesTheorem",setup(e){const s=yP.map((e=>`P(${e})=`)),o=vP();return(e,r)=>{const i=t,u=l;return C(),j(d,null,{default:U((()=>[N(a,{class:"border rounded-md px-2 py-4 bg-white",cols:"5"},{default:U((()=>[r[0]||(D(-1,!0),(r[0]=N(i,{class:"w-100 font-weight-bold",label:"參數"})).cacheIndex=0,D(1),r[0]),(C(!0),R(B,null,A(K(yP),((e,t)=>(C(),j(u,{key:e,label:e,"prepend-text":K(s)[t],min:"0",max:"1",step:"any","model-value":K(o)[e],"onUpdate:modelValue":t=>K(o).updateArg(e,t)},null,8,["label","prepend-text","model-value","onUpdate:modelValue"])))),128)),N(n,{class:"my-3"})])),C:1}),N(a,{class:"border rounded-md px-2 py-4 bg-white"},{default:U((()=>[N(i,{class:"w-100 font-weight-bold",label:"結果"}),N(u,{label:"結果","prepend-text":"P(A|B)=",readonly:"","model-value":K(o).result},null,8,["model-value"])])),C:1})])),C:1})}}}),gP=Object.assign(jl,{__name:"EventProbabilityBayesTheorem"}),J=g({__name:"event-probability",setup(e){V({title:"Probability Calculator - Event Probability"});const t=eP(),l=_((()=>t.el));return(e,t)=>(C(),j(F,{class:"d-flex flex-column h-100 pa-0 bg-white","max-width":"950"},{default:U((()=>[z(N(pP,null,null,512),[[$e,0===K(l)]]),z(N(xP,null,null,512),[[$e,1===K(l)]]),z(N(gP,null,null,512),[[$e,2===K(l)]])])),C:1}))}});export{J as default};