import{v as e,x as t,a0 as a,a1 as l,d as s,Y as o,M as r,y as i,K as n,J as u,C as d,z as b,i as p,F as m,B as P,A as c,G as A,H as B,t as $,N as g,a2 as h}from"./CX71UtI7.js";import{_ as x}from"./BCo6x5W8.js";import{V as f,d as y,e as v,b as _,_ as w}from"./BCmhvwlM.js";import{c as I}from"./DCI6mILC.js";import{u as k}from"./Dcdykm6R.js";import{V as j}from"./DDz38GW_.js";import"./1d4GfrKS.js";import"./BroDS1fL.js";import"./iOn-d5QI.js";import"./DuUtBnw_.js";const T={xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 360 240","stroke-width":"1",width:"100%",fill:"none",style:{"aspect-ratio":"9 / 5"}};const V=Object.assign(x({},[["render",function(l,s){return e(),t("svg",T,s[0]||(s[0]=[a('<circle cx="130" cy="120" r="100" fill="#ff7"></circle><circle cx="230" cy="120" r="100" fill="#7ff"></circle><path d="M180 33 a100 100 0 0 0 0 174 a100 100 0 0 0 0 -174 z" fill="#7fff80"></path><circle cx="130" cy="120" r="100" stroke="#000"></circle><circle cx="230" cy="120" r="100" stroke="#000"></circle><rect x="0" y="0" width="360" height="240" stroke="#000"></rect><g text-anchor="middle" stroke="none" fill="#000" font-size="30px" font-weight="bold"><text x="90" y="132">A</text><text x="180" y="132">A⋂B</text><text x="270" y="132">B</text></g>',7)]))}]]),{__name:"EulerDiagram"}),E=e=>e>=0&&e<=1,U={a:"A",b:"B",u:"A⋃B",i:"A⋂B",p:"A'",c:"A|B",ci:"B|A"};["a","b","u","i","s","p","c","ci"].forEach((e=>U[U[e]]=e));const O=(e,t)=>{const a=e.includes("u"),l=e.includes("i"),s=[M];return a&&s.push(D),l&&s.push(N),{keys_:e,validator_:s,formula_:t}},M=e=>Object.values(e).every((e=>E(e)))?null:"事件機率需介於0~1。",D=e=>!(e.a>e.u||e.b>e.u)?null:"事件聯集的機率不能小於個別事件發生的機率。",N=e=>!(e.a<e.i||e.b<e.i)?null:"事件交集的機率不能大於個別事件發生的機率。",z=["A","A⋂B","A⋃B","AΔB"],F={A:[O(["p"],(e=>["1 - P(A')",`1 - ${e.p}`,""+(1-e.p)])),O(["b","i"],(e=>["P(A⋂B) / P(B)",`${e.i} / ${e.b}`,""+e.i/e.b])),O(["b","u"],(e=>["P(A⋂B') / P(B')","(P(A⋃B) - P(B)) / (1 - P(B))",`(${e.u} - ${e.b}) / (1 - ${e.b})`,""+(e.u-e.b)/(1-e.b)]))],"A⋂B":[O(["a","u"],(e=>["(P(A⋃B) - P(A)) * P(A) / (1 - P(A))",`(${e.u} - ${e.a}) * ${e.a} / (1 - ${e.a})`,""+(e.u-e.a)*e.a/(1-e.a)])),O(["b","u"],(e=>["(P(A⋃B) - P(B)) * P(B) / (1 - P(B))",`(${e.u} - ${e.b}) * ${e.b} / (1 - ${e.b})`,""+(e.u-e.b)*e.b/(1-e.b)])),O(["a","b"],(e=>["P(A) * P(B)",`${e.a} * ${e.b}`,""+e.a*e.b]))],"A⋃B":[O(["a","i"],(e=>["P(A) + P(B) - P(A⋂B)","P(A) + P(A⋂B) / P(A) - P(A⋂B)",`${e.a} + ${e.i} / ${e.a} - ${e.i}`,""+(e.a+e.i/e.a-e.i)])),O(["b","i"],(e=>["P(A) + P(B) - P(A⋂B)","P(A⋂B) / P(B) + P(B) - P(A⋂B)",`${e.b} + ${e.i} / ${e.b} - ${e.i}`,""+(e.i/e.b+e.b-e.i)])),O(["a","b"],(e=>["P(A) + P(B) - P(A⋂B)","P(A) + P(B) - P(A) * P(B)",`${e.a} + ${e.b} - ${e.a} * ${e.b}`,""+(e.b/e.a+e.a-e.b)]))],"AΔB":[O(["a","i"],(e=>["P(A) + P(B) - 2 * P(A⋂B)","P(A) + P(A⋂B) / P(A) - 2 * P(A⋂B)",`${e.a} + ${e.i} / ${e.a} - 2 * ${e.i}`,""+(e.a+e.i/e.a-2*e.i)])),O(["b","i"],(e=>["P(A) + P(B) - 2 * P(A⋂B)","P(A⋂B) / P(B) + P(B) - 2 * P(A⋂B)",`${e.i} / ${e.b} + ${e.b} - 2 * ${e.i}`,""+(e.b+e.i/e.b-2*e.i)])),O(["a","b"],(e=>["P(A) + P(B) - 2 * P(A⋂B)","P(A) + P(B) - 2 * P(A) * P(B)",`${e.a} + ${e.b} - 2 * ${e.a} * ${e.b}`,""+(e.a+e.b-2*e.a*e.b)]))]},C=l("independent",{state:()=>{const e={target:z[0],optionIdx:0};for(const t of z)e[t]=[],F[t].forEach(((a,l)=>{e[t][l]=a.keys_.reduce(((e,t)=>(e[t]=0,e)),{})}));return e},getters:{optionItem(){return F[this.target][this.optionIdx]},params(){return this.optionItem.keys_.map((e=>({key:e,label:U[e]})))},formula(){return this.optionItem.formula_(this.args)},args(){return this[this.target][this.optionIdx]},result(){const e=this.formula;return+e[e.length-1]},errorMessage(){return[E(this.result)?null:`計算結果 P(${this.target})=${this.result} 無效。`,...this.optionItem.validator_.map((e=>e(this.args)))].join("\n")}},actions:{updateTarget(e){this.target=e,this.optionIdx=0},setOption(e){this.optionIdx=+e},setArg(e,t){isNaN(+t)||(this.args[e]=I(t,0,1))}}}),G={class:"formula-table"},H={key:0},J=s({__name:"FormulaTable",props:{title:{},formula:{}},setup:a=>(a,l)=>(e(),t("table",G,[a.title||a.$slots.title?(e(),t("caption",H,[o(a.$slots,"title",{},(()=>[d(b(a.title),1)]))])):r("",!0),i("tbody",null,[(e(!0),t(n,null,u(a.formula,((a,l)=>(e(),t("tr",{key:l},[(e(!0),t(n,null,u(a,(a=>(e(),t("td",{key:`${l}-${a}`},b(a),1)))),128))])))),128))])]))}),K=Object.assign(J,{__name:"FormulaTable"}),Y={class:"w-50 mx-auto"},q=s({__name:"IndependentEvent",setup(a){const l=C(),s=z.map((e=>({title:`P(${e})`,value:e}))),o=z.reduce(((e,t)=>(e[t]=F[t].map(((e,t)=>({title:e.keys_.map((e=>`P(${U[e]})`)).join(", "),value:t}))),e)),{}),r=p({get:()=>l[l.target][l.optionIdx],set([e,t]){l.setArg(e,t)}}),b=p((()=>l.formula.map(((e,t)=>0===t?[`P(${l.target})`,"= "+e]:[null,"= "+e]))));return(a,p)=>{const $=V,g=_,h=w;return e(),m(v,null,{default:P((()=>[c(f,{class:"border rounded-md px-2 py-4 text-center"},{default:P((()=>[i("div",Y,[p[1]||(p[1]=d(" Euler Diagram ")),c($)]),c(g,{class:"w-100 font-weight-bold",label:"計算結果"}),c(h,{class:"mx-auto",label:"計算結果",type:"text",prependText:`P(${A(l).target})=`,readonly:"",variant:"solo",flat:"","model-value":A(l).result,message:A(l).errorMessage},null,8,["prependText","model-value","message"]),c(K,{class:"mx-auto",title:"算式",formula:b.value},{title:P((()=>[c(g,{class:"w-100 font-weight-bold",label:"算式"})])),_:1},8,["formula"])])),_:1}),c(f,{class:"border rounded-md px-2 py-4",cols:"4"},{default:P((()=>[c(h,{type:"select",label:"目標",items:A(s),"model-value":A(l).target,"onUpdate:modelValue":A(l).updateTarget},null,8,["items","model-value","onUpdate:modelValue"]),c(y,{class:"my-3"}),p[0]||(B(-1,!0),(p[0]=c(g,{class:"w-100 font-weight-bold",label:"參數"})).cacheIndex=0,B(1),p[0]),c(h,{type:"select",label:"選項",items:A(o)[A(l).target],"model-value":A(l).optionIdx,"onUpdate:modelValue":A(l).setOption},null,8,["items","model-value","onUpdate:modelValue"]),(e(!0),t(n,null,u(A(l).params,(({key:t,label:a})=>(e(),m(h,{key:t,label:a,prependText:`P(${a})=`,min:"0",max:"1",step:"any","model-value":r.value[t],"onUpdate:modelValue":e=>A(l).setArg(t,e)},null,8,["label","prependText","model-value","onUpdate:modelValue"])))),128))])),_:1})])),_:1})}}}),L=Object.assign(q,{__name:"EventProbabilityIndependentEvent"}),Q=["A","A⋂B","A⋃B","AΔB","A|B"],R={A:[O(["p"],(e=>["1 - P(A')",`1 - ${e.p}`,""+(1-e.p)])),O(["b","i","u"],(e=>["P(A⋃B) - P(B) + P(A⋂B)",`${e.u} - ${e.b} + ${e.i}`,`${e.u-e.b+e.i}`])),O(["b","ci"],(e=>["P(A⋂B) / P(B|A)",`${e.i} / ${e.ci}`,""+e.i/e.ci]))],"A⋂B":[O(["a","b","u"],(e=>["P(A) + P(B) - P(A⋃B)",`${e.a} + ${e.b} - ${e.u}`,""+(e.a+e.b-e.u)])),O(["b","c"],(e=>["P(B) * P(A|B)",`${e.b} * ${e.c}`,""+e.b*e.c])),O(["a","ci"],(e=>["P(A) * P(B|A)",`${e.a} * ${e.ci}`,""+e.a*e.ci]))],"A⋃B":[O(["a","b","i"],(e=>["P(A) + P(B) - P(A⋂B)",`${e.a} + ${e.b} - ${e.i}`,""+(e.a+e.b-e.i)])),O(["a","b","c"],(e=>["P(A) + P(B) - P(A⋂B)","P(A) + P(B) - P(B) * P(A|B)",`${e.a} + ${e.b} - ${e.b} * ${e.c}`,""+(e.a+e.b-e.b*e.c)])),O(["a","b","ci"],(e=>["P(A) + P(B) - P(A⋂B)","P(A) + P(B) - P(A) * P(B|A)",`${e.a} + ${e.b} - ${e.a} * ${e.ci}`,""+(e.a+e.b-e.a*e.ci)]))],"A|B":[O(["b","i"],(e=>["P(A⋂B) / P(B)","P(A) + P(A⋂B) / P(A) - 2 * P(A⋂B)",`${e.a} + ${e.i} / ${e.a} - 2 * ${e.i}`,""+(e.a+e.i/e.a-2*e.i)])),O(["a","i","u"],(e=>["P(A⋂B) / P(B)","P(A⋂B) / (P(A⋃B) - P(A) + P(A⋂B))",`${e.i} / (${e.u} - ${e.a} + ${e.i})`,""+e.i/(e.u-e.a+e.i)])),O(["a","b","u"],(e=>["P(A⋂B) / P(B)","(P(A) + P(B) - P(A⋃B)) / P(B)",`(${e.a} + ${e.b} - ${e.u}) / ${e.b}`,""+(e.a+e.b-e.u)/e.b])),O(["a","b","ci"],(e=>["P(B|A) * P(A) / P(B)",`${e.ci} * ${e.a} / ${e.b}`,""+e.ci*e.a/e.b]))],"AΔB":[O(["a","b","i"],(e=>["P(A) + P(B) - 2 * P(A⋂B)",`${e.a} + ${e.b} - 2 * ${e.i}`,""+(e.a+e.b-2*e.i)])),O(["a","b","u"],(e=>["P(A) + P(B) - 2 * P(A⋂B)","P(A) + P(B) - 2 * (P(A) + P(B) - P(A⋃B))",`${e.a} + ${e.b} - 2 * (${e.a} + ${e.b} -${e.u})`,""+(e.a+e.b-2*(e.a+e.b-e.u))]))]},S=l("dependent",{state:()=>{const e={target:Q[0],optionIdx:0};for(const t of Q)e[t]=[],R[t].forEach(((a,l)=>{e[t][l]=a.keys_.reduce(((e,t)=>(e[t]=0,e)),{})}));return e},getters:{optionItem(){return R[this.target][this.optionIdx]},params(){return this.optionItem.keys_.map((e=>({key:e,label:U[e]})))},formula(){return this.optionItem.formula_(this.args)},args(){return this[this.target][this.optionIdx]},result(){const e=this.formula;return+e[e.length-1]},errorMessage(){return[E(this.result)?null:`計算結果 P(${this.target})=${this.result} 無效。`,...this.optionItem.validator_.map((e=>e(this.args)))].join("\n")}},actions:{updateTarget(e){this.target=e,this.optionIdx=0},setOption(e){this.optionIdx=+e},setArg(e,t){isNaN(+t)||(this.args[e]=I(t,0,1))}}}),W={class:"w-50 mx-auto"},X=s({__name:"DependentEvent",setup(a){const l=S(),s=Q.map((e=>({title:`P(${e})`,value:e}))),o=Q.reduce(((e,t)=>(e[t]=R[t].map(((e,t)=>({title:e.keys_.map((e=>`P(${U[e]})`)).join(", "),value:t}))),e)),{}),r=p({get:()=>l[l.target][l.optionIdx],set([e,t]){l.setArg(e,t)}}),b=p((()=>l.formula.map(((e,t)=>0===t?[`P(${l.target})`,"= "+e]:[null,"= "+e]))));return(a,p)=>{const $=V,g=_,h=w;return e(),m(v,null,{default:P((()=>[c(f,{class:"border rounded-md px-2 py-4 text-center"},{default:P((()=>[i("div",W,[p[1]||(p[1]=d(" Euler Diagram ")),c($)]),c(g,{class:"w-100 font-weight-bold",label:"計算結果"}),c(h,{class:"mx-auto",label:"計算結果",type:"text",prependText:`P(${A(l).target})=`,readonly:"",variant:"solo",flat:"","model-value":A(l).result,message:A(l).errorMessage},null,8,["prependText","model-value","message"]),c(K,{class:"mx-auto",title:"算式",formula:A(b)},{title:P((()=>[c(g,{class:"w-100 font-weight-bold",label:"算式"})])),_:1},8,["formula"])])),_:1}),c(f,{class:"border rounded-md px-2 py-4",cols:"4"},{default:P((()=>[c(h,{type:"select",label:"目標",items:A(s),"model-value":A(l).target,"onUpdate:modelValue":A(l).updateTarget},null,8,["items","model-value","onUpdate:modelValue"]),c(y,{class:"my-3"}),p[0]||(B(-1,!0),(p[0]=c(g,{class:"w-100 font-weight-bold",label:"參數"})).cacheIndex=0,B(1),p[0]),c(h,{type:"select",label:"選項",items:A(o)[A(l).target],"model-value":A(l).optionIdx,"onUpdate:modelValue":A(l).setOption},null,8,["items","model-value","onUpdate:modelValue"]),(e(!0),t(n,null,u(A(l).params,(({key:t,label:a})=>(e(),m(h,{key:t,label:a,prependText:`P(${a})=`,min:"0",max:"1",step:"any","model-value":A(r)[t],"onUpdate:modelValue":e=>A(l).setArg(t,e)},null,8,["label","prependText","model-value","onUpdate:modelValue"])))),128))])),_:1})])),_:1})}}}),Z=Object.assign(X,{__name:"EventProbabilityDependentEvent"}),ee=["A","B","B|A"],te=l("bayes",{state:()=>ee.reduce(((e,t)=>(e[t]=0,e)),{}),getters:{result(){return this.A*this["B|A"]/this.B}},actions:{updateArg(e,t){this[e]=I(t,0,1)}}}),ae=s({__name:"BayesTheorem",setup(a){const l=ee.map((e=>`P(${e})=`)),s=te();return(a,o)=>{const r=_,i=w;return e(),m(v,null,{default:P((()=>[c(f,{class:"border rounded-md px-2 py-4 bg-white",cols:"5"},{default:P((()=>[o[0]||(B(-1,!0),(o[0]=c(r,{class:"w-100 font-weight-bold",label:"參數"})).cacheIndex=0,B(1),o[0]),(e(!0),t(n,null,u(A(ee),((t,a)=>(e(),m(i,{key:t,label:t,"prepend-text":A(l)[a],min:"0",max:"1",step:"any","model-value":A(s)[t],"onUpdate:modelValue":e=>A(s).updateArg(t,e)},null,8,["label","prepend-text","model-value","onUpdate:modelValue"])))),128)),c(y,{class:"my-3"})])),_:1}),c(f,{class:"border rounded-md px-2 py-4 bg-white"},{default:P((()=>[c(r,{class:"w-100 font-weight-bold",label:"結果"}),c(i,{label:"結果","prepend-text":"P(A|B)=",readonly:"","model-value":A(s).result},null,8,["model-value"])])),_:1})])),_:1})}}}),le=Object.assign(ae,{__name:"EventProbabilityBayesTheorem"}),se=s({__name:"event-probability",setup(t){$({title:"Probability Calculator - Event Probability"});const a=k(),l=p((()=>a.extTabIdx_));return(t,a)=>(e(),m(j,{class:"d-flex flex-column h-100 pa-0 bg-white","max-width":"950"},{default:P((()=>[g(c(L,null,null,512),[[h,0===A(l)]]),g(c(Z,null,null,512),[[h,1===A(l)]]),g(c(le,null,null,512),[[h,2===A(l)]])])),_:1}))}});export{se as default};
