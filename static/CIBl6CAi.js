import{V as a,a as e,b as l,T as t}from"./DZgNZ9ff.js";import{V as o,b as s,d as n,a as i,P as r,e as d,c as u}from"./BcjAR2DG.js";import{u as m}from"./spB-b5gK.js";import{v as c,i as p,s as v,a as f,l as b,r as x}from"./CI-EUnBD.js";import{d as g,t as y,j as h,r as V,O as w,P as _,H as j,B as k,G as P,x as U,A as D,v as X,D as R,y as $,C as N,Q as C,F as I,E as L,z as K,K as A,R as E,M}from"./CtjArZXg.js";import{V as F}from"./DcdVAVtH.js";import{V as G}from"./CXSECAqa.js";import{V as z,a as B,b as H}from"./mEISwHGH.js";import{V as O,a as Q,b as T}from"./BSTrJJeE.js";import"./PoHgw92y.js";const q=g({__name:"discrete-distribution",setup(g){y({title:"Probability Calculator - Discrete Probability Distribution"});const q=m(),J=h((()=>{const a=q.distrib,{min:e,max:l}=q.varDomain;return`Domain: ${p(e)?"(-∞":a.isInDomain(q.args,e)?`[${e}`:`(${e}`}, ${p(l)?"∞)":a.isInDomain(q.args,l)?`${l}]`:`${l})`}`})),S=[{name:"P(X=L)",value:"left"},{name:"P(X=R)",value:"right"},{name:"P(X≤L)",value:"below"},{name:"P(X≥R)",value:"above"},{name:"P(X<L)",value:"belowExcl"},{name:"P(X>R)",value:"aboveExcl"},{name:"P(L≤X≤R)",value:"between"},{name:"P(X≤L or X≥R)",value:"outside"}],W=h((()=>v(q.vars))),Y=h((()=>q.calcProb(P(W)))),Z=h((()=>q.calc.percentage?"%":void 0)),aa=h((()=>{const{chart:{points:a,extended:e}}=q,[l,t]=W.value,o=e/200,s=Math.ceil((t-l)*o),n=t-l+1+2*s<=a||0===a?f(l-s,t+s,1,x):b(l-s,t+s,a,x),i=Array(t-l+1+2*s);for(let r=0;r<i.length;r++)i[r]=q.pdf(n[r]);return{labels:n,datasets:[{data:i,backgroundColor:"#0c03"}]}})),ea=V(!1),la=[{text:"圖表",value:"chart"},{text:"計算",value:"calc"}],ta=V(la[0].value),oa=h({get:()=>q.chart.extended,set(a){isNaN(a)||(q.chart.extended=a)}}),sa=c(1,5,oa,{min:0,max:100}),na=h({get:()=>q.chart.points,set(a){isNaN(a)||(q.chart.points=a)}}),ia=c(50,100,na,{min:50,max:2e3}),ra=h({get:()=>q.calc.place,set(a){!isNaN(a)&&Number.isInteger(a)&&(q.calc.place=a)}}),da=V(!0),ua=w({plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(a){const e=a.parsed.x,l=[];return e<=W.value[0]&&l.push("below"),W.value[0]<=e&&e<=W.value[1]&&l.push("between"),e>=W.value[1]&&l.push("above"),`${a.parsed.y} (${l.join(",")})`}}}},scales:{x:{grid:{display:da.value}},y:{min:0,grid:{display:da.value}}}});return _(da,(a=>{ua.scales.x.grid.display=a,ua.scales.y.grid.display=a})),(m,c)=>{const p=a;return U(),j(F,{class:"d-flex flex-column h-100 pa-0 bg-white","max-width":"950"},{default:k((()=>[D(o,{noGutters:""},{default:k((()=>[D(s,{class:"elevation-3 px-2 py-4 d-flex flex-wrap justify-space-evenly align-content-start"},{default:k((()=>[D(p,{type:"bar",data:P(aa),options:P(ua)},{title:k((()=>[c[0]||(R(-1,!0),(c[0]=$("div",{class:"text-center"},[c[13]||(c[13]=N(" Partical Mass Function ")),D(G,{class:"float-right cursor-pointer",icon:"mdi-cog",onClick:a=>ea.value=!0},null,8,["onClick"])])).cacheIndex=0,R(1),c[0])])),_:1},8,["data","options"]),D(e,{modelValue:P(ea),"onUpdate:modelValue":c[8]||(c[8]=a=>C(ea)?ea.value=a:null),"max-width":"300","min-height":"400"},{default:k((()=>[D(z,null,{default:k((()=>[D(B,{tag:"h2",class:"font-weight-bold bg-primary d-flex align-center justify-space-between"},{default:k((()=>[c[14]||(c[14]=N(" 設定 ")),D(O,{icon:"mdi-close",density:"compact",variant:"text",onClick:c[1]||(c[1]=a=>ea.value=!1)})])),_:1}),D(Q,{modelValue:P(ta),"onUpdate:modelValue":c[2]||(c[2]=a=>C(ta)?ta.value=a:null),class:"flex-0-0-100",items:la,"bg-color":"blue-grey-darken-2",color:"white",grow:"","hide-slider":""},{default:k((()=>[(U(),X(I,null,L(la,(a=>D(T,{key:a.value,class:"text-body-1",value:a.value,"base-color":"blue-grey-lighten-3",variant:"tonal",ripple:!1},{default:k((()=>[N(K(a.text),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"]),D(H,{class:"overflow-y-auto overflow-x-hidden pt-2"},{default:k((()=>["chart"===P(ta)?(U(),X(I,{key:0},[D(l,{modelValue:P(da),"onUpdate:modelValue":c[3]||(c[3]=a=>C(da)?da.value=a:null)},{prepend:k((({id:a})=>[D(n,{for:a.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"格線"},null,8,["for"])])),_:1},8,["modelValue"]),D(i,{label:"延伸範圍",min:"0",max:"100",suffix:"%","model-value":P(oa),"onUpdate:modelValue":c[4]||(c[4]=a=>oa.value=+a),onKeydown:P(sa)},{prepend:k((({props:a,text:e})=>[$("div",E(a,{class:"text-left"}),K(e),17)])),_:1},8,["model-value","onKeydown"]),D(i,{label:"數量",min:"50",max:"2000",step:"50","model-value":P(na),"onUpdate:modelValue":c[5]||(c[5]=a=>na.value=+a),onKeydown:P(ia)},{prepend:k((({props:a,text:e})=>[$("div",E(a,{class:"text-left"}),K(e),17)])),_:1},8,["model-value","onKeydown"])],64)):"calc"===P(ta)?(U(),X(I,{key:1},[D(l,{modelValue:P(q).calc.percentage,"onUpdate:modelValue":c[6]||(c[6]=a=>P(q).calc.percentage=a)},{prepend:k((({id:a})=>[D(n,{for:a.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"百分比"},null,8,["for"])])),_:1},8,["modelValue"]),D(i,{label:"小數位數",min:"0",max:"10",step:"1","model-value":P(ra),"onUpdate:modelValue":c[7]||(c[7]=a=>ra.value=+a)},{prepend:k((({props:a,text:e})=>[$("div",E(a,{class:"text-left"}),K(e),17)])),_:1},8,["model-value"])],64)):A("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),c[9]||(R(-1,!0),(c[9]=D(r,{class:"w-100 font-weight-bold",label:"計算結果",icon:"information-outline"},{default:k((()=>[D(d,{activator:"parent",location:"bottom"},{default:k((()=>[$("div",null," L=min(p1,p2)="+K(P(W)[0]),1),$("div",null," R=max(p1,p2)="+K(P(W)[1]),1)])),_:1})])),_:1})).cacheIndex=9,R(1),c[9]),(U(),X(I,null,L(S,(a=>D(i,{key:a.name,class:"flex-0-0",param:a,readonly:"",variant:"solo",flat:"",suffix:P(Z),"model-value":P(Y)[a.value]},null,8,["param","suffix","model-value"]))),64))])),_:1}),D(s,{class:"border rounded-md px-2 py-4",cols:"4"},{default:k((()=>[c[10]||(R(-1,!0),(c[10]=M(D(r,{class:"font-weight-bold",label:"參數",icon:"information-outline"},null,512),[[t,"最大、最小值將自動調整","bottom"]])).cacheIndex=10,R(1),c[10]),(U(!0),X(I,null,L(P(q).paramRanges,(a=>(U(),j(i,{key:a.name,param:a,"model-value":P(q).args[a.name],"onUpdate:modelValue":e=>P(q).setArg(a.name,+e)},null,8,["param","model-value","onUpdate:modelValue"])))),128)),D(u,{class:"my-3"}),M(D(r,{class:"font-weight-bold",label:"變數",icon:"information-outline"},null,512),[[t,P(J),"bottom"]]),D(i,{label:"p1=",param:P(q).varDomain,"model-value":P(q).vars[0],"onUpdate:modelValue":c[11]||(c[11]=a=>P(q).setVars(0,a))},null,8,["param","model-value"]),D(i,{label:"p2=",param:P(q).varDomain,"model-value":P(q).vars[1],"onUpdate:modelValue":c[12]||(c[12]=a=>P(q).setVars(1,a))},null,8,["param","model-value"])])),_:1})])),_:1})])),_:1})}}});export{q as default};
