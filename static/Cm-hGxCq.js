import{V as Y,a as K,T as B,_ as Z}from"./CXFdlyqt.js";import{V as S,a as A,_ as m,b as R,c as ee,d as te,e as ae}from"./Dg_Pu0LG.js";import{u as le}from"./CrIe76QP.js";import{i as E,s as oe,a as se,l as ne,v as j,r as F}from"./DNJeZBBB.js";import{d as re,t as ie,i as d,r as T,D as ue,E as de,v as p,F as G,B as n,A as l,G as a,H as v,y as x,C as L,I as U,x as y,J as $,K as w,z as b,L as I,M as me,N as M}from"./CUVt92CJ.js";import{V as pe}from"./D6AdTxEX.js";import{V as ce}from"./SfClP_jH.js";import{V as fe,a as ve,b as xe}from"./BWfyN0J7.js";import{V as be,a as ge,b as Ve}from"./BzXw67Na.js";import"./DST2X9Uf.js";const $e=re({__name:"discrete-distribution",setup(e){ie({title:"Probability Calculator - Discrete Probability Distribution"});const t=le(),o=d((()=>{const e=t.distribution,{min:a,max:l}=t.varDomain;return`Domain: ${E(a)?"(-∞":e.isInDomain(t.args,a)?`[${a}`:`(${a}`}, ${E(l)?"∞)":e.isInDomain(t.args,l)?`${l}]`:`${l})`}`})),s=[{name:"P(X=L)",value:"left"},{name:"P(X=R)",value:"right"},{name:"P(X≤L)",value:"below"},{name:"P(X≥R)",value:"above"},{name:"P(X<L)",value:"belowExcl"},{name:"P(X>R)",value:"aboveExcl"},{name:"P(L≤X≤R)",value:"between"},{name:"P(X≤L or X≥R)",value:"outside"}],i=d((()=>oe(t.vars))),r=d((()=>t.calcProb(a(i)))),u=d((()=>t.calc.toPercentage?"%":void 0)),c=d((()=>{const{chart:{points:e,extended:a}}=t,[l,o]=i.value,s=a/200,n=Math.ceil((o-l)*s),d=o-l+1+2*n<=e||0===e?se(l-n,o+n,1,F):ne(l-n,o+n,e,F),m=Array(o-l+1+2*n);for(let e=0;e<m.length;e++)m[e]=t.pdf(d[e]);return{labels:d,datasets:[{data:m,backgroundColor:"#0c03"}]}})),f=T(!1),g=[{text:"圖表",value:"chart"},{text:"計算",value:"calc"}],V=T(g[0].value),_=d({get:()=>t.chart.extended,set(e){isNaN(e)||(t.chart.extended=e)}}),h=j(1,5,_,{min:0,max:100}),P=d({get:()=>t.chart.points,set(e){isNaN(e)||(t.chart.points=e)}}),k=j(50,100,P,{min:50,max:2e3}),X=d({get:()=>t.calc.place,set(e){!isNaN(e)&&Number.isInteger(e)&&(t.calc.place=e)}}),C=T(!0),N=ue({plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){const a=e.parsed.x,l=[];return a<=i.value[0]&&l.push("below"),i.value[0]<=a&&a<=i.value[1]&&l.push("between"),a>=i.value[1]&&l.push("above"),`${e.parsed.y} (${l.join(",")})`}}}},scales:{x:{grid:{display:C.value}},y:{min:0,grid:{display:C.value}}}});return de(C,(e=>{N.scales.x.grid.display=e,N.scales.y.grid.display=e})),(e,d)=>{const j=Z;return p(),G(pe,{class:"d-flex flex-column h-100 pa-0 bg-white","max-width":"950"},{default:n((()=>[l(ae,{noGutters:""},{default:n((()=>[l(S,{class:"elevation-3 px-2 py-4 d-flex flex-wrap justify-space-evenly align-content-start"},{default:n((()=>[l(j,{type:"bar",data:a(c),options:a(N)},{title:n((()=>[d[0]||(v(-1,!0),(d[0]=x("div",{class:"text-center"},[d[13]||(d[13]=L(" Partical Mass Function ")),l(ce,{class:"float-right cursor-pointer",icon:"mdi-cog",onClick:e=>f.value=!0},null,8,["onClick"])])).cacheIndex=0,v(1),d[0])])),_:1},8,["data","options"]),l(Y,{modelValue:a(f),"onUpdate:modelValue":d[8]||(d[8]=e=>U(f)?f.value=e:null),"max-width":"300","min-height":"400"},{default:n((()=>[l(fe,null,{default:n((()=>[l(ve,{tag:"h2",class:"font-weight-bold bg-primary d-flex align-center justify-space-between"},{default:n((()=>[d[14]||(d[14]=L(" 設定 ")),l(be,{icon:"mdi-close",density:"compact",variant:"text",onClick:d[1]||(d[1]=e=>f.value=!1)})])),_:1}),l(ge,{modelValue:a(V),"onUpdate:modelValue":d[2]||(d[2]=e=>U(V)?V.value=e:null),class:"flex-0-0-100",items:g,"bg-color":"blue-grey-darken-2",color:"white",grow:"","hide-slider":""},{default:n((()=>[(p(),y(w,null,$(g,(e=>l(Ve,{key:e.value,class:"text-body-1",value:e.value,"base-color":"blue-grey-lighten-3",variant:"tonal",ripple:!1},{default:n((()=>[L(b(e.text),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"]),l(xe,{class:"overflow-y-auto overflow-x-hidden pt-2"},{default:n((()=>["chart"===a(V)?(p(),y(w,{key:0},[l(K,{modelValue:a(C),"onUpdate:modelValue":d[3]||(d[3]=e=>U(C)?C.value=e:null)},{prepend:n((({id:e})=>[l(A,{for:e.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"格線"},null,8,["for"])])),_:1},8,["modelValue"]),l(m,{label:"延伸範圍",min:"0",max:"100",suffix:"%","model-value":a(_),"onUpdate:modelValue":d[4]||(d[4]=e=>_.value=+e),onKeydown:a(h)},{prepend:n((({props:e,text:a})=>[x("div",I(e,{class:"text-left"}),b(a),17)])),_:1},8,["model-value","onKeydown"]),l(m,{label:"數量",min:"50",max:"2000",step:"50","model-value":a(P),"onUpdate:modelValue":d[5]||(d[5]=e=>P.value=+e),onKeydown:a(k)},{prepend:n((({props:e,text:a})=>[x("div",I(e,{class:"text-left"}),b(a),17)])),_:1},8,["model-value","onKeydown"])],64)):"calc"===a(V)?(p(),y(w,{key:1},[l(K,{modelValue:a(t).calc.toPercentage,"onUpdate:modelValue":d[6]||(d[6]=e=>a(t).calc.toPercentage=e)},{prepend:n((({id:e})=>[l(A,{for:e.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"百分比"},null,8,["for"])])),_:1},8,["modelValue"]),l(m,{label:"小數位數",min:"0",max:"10",step:"1","model-value":a(X),"onUpdate:modelValue":d[7]||(d[7]=e=>X.value=+e)},{prepend:n((({props:e,text:a})=>[x("div",I(e,{class:"text-left"}),b(a),17)])),_:1},8,["model-value"])],64)):me("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),d[9]||(v(-1,!0),(d[9]=l(R,{class:"w-100 font-weight-bold",label:"計算結果",icon:"information-outline"},{default:n((()=>[l(ee,{activator:"parent",location:"bottom"},{default:n((()=>[x("div",null," L=min(p1,p2)="+b(a(i)[0]),1),x("div",null," R=max(p1,p2)="+b(a(i)[1]),1)])),_:1})])),_:1})).cacheIndex=9,v(1),d[9]),(p(),y(w,null,$(s,(e=>l(m,{key:e.name,class:"flex-0-0",param:e,readonly:"",variant:"solo",flat:"",suffix:a(u),"model-value":a(r)[e.value]},null,8,["param","suffix","model-value"]))),64))])),_:1}),l(S,{class:"border rounded-md px-2 py-4",cols:"4"},{default:n((()=>[d[10]||(v(-1,!0),(d[10]=M(l(R,{class:"font-weight-bold",label:"參數",icon:"information-outline"},null,512),[[B,"最大、最小值將自動調整","bottom"]])).cacheIndex=10,v(1),d[10]),(p(!0),y(w,null,$(a(t).paramRanges,(e=>(p(),G(m,{key:e.name,param:e,"model-value":a(t).args[e.name],"onUpdate:modelValue":l=>a(t).setArg(e.name,+l)},null,8,["param","model-value","onUpdate:modelValue"])))),128)),l(te,{class:"my-3"}),M(l(R,{class:"font-weight-bold",label:"變數",icon:"information-outline"},null,512),[[B,a(o),"bottom"]]),l(m,{label:"p1=",param:a(t).varDomain,"model-value":a(t).vars[0],"onUpdate:modelValue":d[11]||(d[11]=e=>a(t).setVars(0,e))},null,8,["param","model-value"]),l(m,{label:"p2=",param:a(t).varDomain,"model-value":a(t).vars[1],"onUpdate:modelValue":d[12]||(d[12]=e=>a(t).setVars(1,e))},null,8,["param","model-value"])])),_:1})])),_:1})])),_:1})}}});export{$e as default};