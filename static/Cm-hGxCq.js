import{V as v,a as ue,T as a,_ as h}from"./CXFdlyqt.js";import{V as t,a as Ce,_ as V,b as R,c as C,d as T,e as me}from"./Dg_Pu0LG.js";import{u as de}from"./CrIe76QP.js";import{i as D,s as Ie,a as ce,l as Ve,v as x,r as u}from"./DNJeZBBB.js";import{d as pe,t as Be,i as l,r as he,D as $e,E as o,v as k,F as _,B as le,A as j,G as N,H as Y,y as ke,C as ne,I as B,x as P,J as Se,K as L,z as ee,L as W,M as s,N as Q}from"./CUVt92CJ.js";import{V as n}from"./D6AdTxEX.js";import{V as d}from"./SfClP_jH.js";import{V as r,a as b,b as y}from"./BWfyN0J7.js";import{V as i,a as g,b as w}from"./BzXw67Na.js";import"./DST2X9Uf.js";const xe=pe({__name:"discrete-distribution",setup(e){Be({title:"Probability Calculator - Discrete Probability Distribution"});const m=de(),p=l((()=>{const e=m.distribution,{min:a,max:l}=m.varDomain;return`Domain: ${D(a)?"(-∞":e.isInDomain(m.args,a)?`[${a}`:`(${a}`}, ${D(l)?"∞)":e.isInDomain(m.args,l)?`${l}]`:`${l})`}`})),c=[{name:"P(X=L)",value:"left"},{name:"P(X=R)",value:"right"},{name:"P(X≤L)",value:"below"},{name:"P(X≥R)",value:"above"},{name:"P(X<L)",value:"belowExcl"},{name:"P(X>R)",value:"aboveExcl"},{name:"P(L≤X≤R)",value:"between"},{name:"P(X≤L or X≥R)",value:"outside"}],f=l((()=>Ie(m.vars))),U=l((()=>m.calcProb(N(f)))),X=l((()=>m.calc.toPercentage?"%":void 0)),$=l((()=>{const{chart:{points:e,extended:a}}=m,[l,t]=f.value,o=a/200,s=Math.ceil((t-l)*o),n=t-l+1+2*s<=e||0===e?ce(l-s,t+s,1,u):Ve(l-s,t+s,e,u),d=Array(t-l+1+2*s);for(let e=0;e<d.length;e++)d[e]=m.pdf(n[e]);return{labels:n,datasets:[{data:d,backgroundColor:"#0c03"}]}})),K=he(!1),E=[{text:"圖表",value:"chart"},{text:"計算",value:"calc"}],J=he(E[0].value),A=l({get:()=>m.chart.extended,set(e){isNaN(e)||(m.chart.extended=e)}}),F=x(1,5,A,{min:0,max:100}),G=l({get:()=>m.chart.points,set(e){isNaN(e)||(m.chart.points=e)}}),M=x(50,100,G,{min:50,max:2e3}),z=l({get:()=>m.calc.place,set(e){!isNaN(e)&&Number.isInteger(e)&&(m.calc.place=e)}}),H=he(!0),I=$e({plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){const a=e.parsed.x,l=[];return a<=f.value[0]&&l.push("below"),f.value[0]<=a&&a<=f.value[1]&&l.push("between"),a>=f.value[1]&&l.push("above"),`${e.parsed.y} (${l.join(",")})`}}}},scales:{x:{grid:{display:H.value}},y:{min:0,grid:{display:H.value}}}});return o(H,(e=>{I.scales.x.grid.display=e,I.scales.y.grid.display=e})),(e,l)=>{const o=h;return k(),_(n,{class:"d-flex flex-column h-100 pa-0 bg-white","max-width":"950"},{default:le((()=>[j(me,{noGutters:""},{default:le((()=>[j(t,{class:"elevation-3 px-2 py-4 d-flex flex-wrap justify-space-evenly align-content-start"},{default:le((()=>[j(o,{type:"bar",data:N($),options:N(I)},{title:le((()=>[l[0]||(Y(-1,!0),(l[0]=ke("div",{class:"text-center"},[l[13]||(l[13]=ne(" Partical Mass Function ")),j(d,{class:"float-right cursor-pointer",icon:"mdi-cog",onClick:e=>K.value=!0},null,8,["onClick"])])).cacheIndex=0,Y(1),l[0])])),_:1},8,["data","options"]),j(v,{modelValue:N(K),"onUpdate:modelValue":l[8]||(l[8]=e=>B(K)?K.value=e:null),"max-width":"300","min-height":"400"},{default:le((()=>[j(r,null,{default:le((()=>[j(b,{tag:"h2",class:"font-weight-bold bg-primary d-flex align-center justify-space-between"},{default:le((()=>[l[14]||(l[14]=ne(" 設定 ")),j(i,{icon:"mdi-close",density:"compact",variant:"text",onClick:l[1]||(l[1]=e=>K.value=!1)})])),_:1}),j(g,{modelValue:N(J),"onUpdate:modelValue":l[2]||(l[2]=e=>B(J)?J.value=e:null),class:"flex-0-0-100",items:E,"bg-color":"blue-grey-darken-2",color:"white",grow:"","hide-slider":""},{default:le((()=>[(k(),P(L,null,Se(E,(e=>j(w,{key:e.value,class:"text-body-1",value:e.value,"base-color":"blue-grey-lighten-3",variant:"tonal",ripple:!1},{default:le((()=>[ne(ee(e.text),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"]),j(y,{class:"overflow-y-auto overflow-x-hidden pt-2"},{default:le((()=>["chart"===N(J)?(k(),P(L,{key:0},[j(ue,{modelValue:N(H),"onUpdate:modelValue":l[3]||(l[3]=e=>B(H)?H.value=e:null)},{prepend:le((({id:e})=>[j(Ce,{for:e.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"格線"},null,8,["for"])])),_:1},8,["modelValue"]),j(V,{label:"延伸範圍",min:"0",max:"100",suffix:"%","model-value":N(A),"onUpdate:modelValue":l[4]||(l[4]=e=>A.value=+e),onKeydown:N(F)},{prepend:le((({props:e,text:a})=>[ke("div",W(e,{class:"text-left"}),ee(a),17)])),_:1},8,["model-value","onKeydown"]),j(V,{label:"數量",min:"50",max:"2000",step:"50","model-value":N(G),"onUpdate:modelValue":l[5]||(l[5]=e=>G.value=+e),onKeydown:N(M)},{prepend:le((({props:e,text:a})=>[ke("div",W(e,{class:"text-left"}),ee(a),17)])),_:1},8,["model-value","onKeydown"])],64)):"calc"===N(J)?(k(),P(L,{key:1},[j(ue,{modelValue:N(m).calc.toPercentage,"onUpdate:modelValue":l[6]||(l[6]=e=>N(m).calc.toPercentage=e)},{prepend:le((({id:e})=>[j(Ce,{for:e.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"百分比"},null,8,["for"])])),_:1},8,["modelValue"]),j(V,{label:"小數位數",min:"0",max:"10",step:"1","model-value":N(z),"onUpdate:modelValue":l[7]||(l[7]=e=>z.value=+e)},{prepend:le((({props:e,text:a})=>[ke("div",W(e,{class:"text-left"}),ee(a),17)])),_:1},8,["model-value"])],64)):s("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),l[9]||(Y(-1,!0),(l[9]=j(R,{class:"w-100 font-weight-bold",label:"計算結果",icon:"information-outline"},{default:le((()=>[j(C,{activator:"parent",location:"bottom"},{default:le((()=>[ke("div",null," L=min(p1,p2)="+ee(N(f)[0]),1),ke("div",null," R=max(p1,p2)="+ee(N(f)[1]),1)])),_:1})])),_:1})).cacheIndex=9,Y(1),l[9]),(k(),P(L,null,Se(c,(e=>j(V,{key:e.name,class:"flex-0-0",param:e,readonly:"",variant:"solo",flat:"",suffix:N(X),"model-value":N(U)[e.value]},null,8,["param","suffix","model-value"]))),64))])),_:1}),j(t,{class:"border rounded-md px-2 py-4",cols:"4"},{default:le((()=>[l[10]||(Y(-1,!0),(l[10]=Q(j(R,{class:"font-weight-bold",label:"參數",icon:"information-outline"},null,512),[[a,"最大、最小值將自動調整","bottom"]])).cacheIndex=10,Y(1),l[10]),(k(!0),P(L,null,Se(N(m).paramRanges,(e=>(k(),_(V,{key:e.name,param:e,"model-value":N(m).args[e.name],"onUpdate:modelValue":a=>N(m).setArg(e.name,+a)},null,8,["param","model-value","onUpdate:modelValue"])))),128)),j(T,{class:"my-3"}),Q(j(R,{class:"font-weight-bold",label:"變數",icon:"information-outline"},null,512),[[a,N(p),"bottom"]]),j(V,{label:"p1=",param:N(m).varDomain,"model-value":N(m).vars[0],"onUpdate:modelValue":l[11]||(l[11]=e=>N(m).setVars(0,e))},null,8,["param","model-value"]),j(V,{label:"p2=",param:N(m).varDomain,"model-value":N(m).vars[1],"onUpdate:modelValue":l[12]||(l[12]=e=>N(m).setVars(1,e))},null,8,["param","model-value"])])),_:1})])),_:1})])),_:1})}}});export{xe as default};