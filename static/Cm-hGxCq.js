import{V as Y,a as K,T as B,_ as Z}from"./CXFdlyqt.js";import{V as S,a as A,_ as m,b as R,c as ee,d as te,e as ae}from"./Dg_Pu0LG.js";import{u as le}from"./CrIe76QP.js";import{i as E,s as oe,a as se,l as ne,v as j,r as F}from"./DNJeZBBB.js";import{d as re,t as ie,i as d,r as T,D as ue,E as de,v as p,F as G,B as n,A as l,G as a,H as v,y as x,C as L,I as U,x as y,J as $,K as w,z as b,L as I,M as me,N as M}from"./CUVt92CJ.js";import{V as pe}from"./D6AdTxEX.js";import{V as ce}from"./SfClP_jH.js";import{V as fe,a as ve,b as xe}from"./BWfyN0J7.js";import{V as be,a as ge,b as Ve}from"./BzXw67Na.js";import"./DST2X9Uf.js";const $e=re({__name:"discrete-distribution",setup(ye){ie({title:"Probability Calculator - Discrete Probability Distribution"});const o=le(),H=d(()=>{const s=o.distribution,{min:t,max:r}=o.varDomain,e=E(t)?"(-∞":s.isInDomain(o.args,t)?`[${t}`:`(${t}`,i=E(r)?"∞)":s.isInDomain(o.args,r)?`${r}]`:`${r})`;return`Domain: ${e}, ${i}`}),W=[{name:"P(X=L)",value:"left"},{name:"P(X=R)",value:"right"},{name:"P(X≤L)",value:"below"},{name:"P(X≥R)",value:"above"},{name:"P(X<L)",value:"belowExcl"},{name:"P(X>R)",value:"aboveExcl"},{name:"P(L≤X≤R)",value:"between"},{name:"P(X≤L or X≥R)",value:"outside"}],u=d(()=>oe(o.vars)),z=d(()=>o.calcProb(a(u))),J=d(()=>o.calc.toPercentage?"%":void 0),O=d(()=>{const{chart:{points:s,extended:t}}=o,[r,e]=u.value,i=t/200,f=Math.ceil((e-r)*i),_=e-r+1+2*f<=s||s===0?se(r-f,e+f,1,F):ne(r-f,e+f,s,F),N=Array(e-r+1+2*f);for(let k=0;k<N.length;k++)N[k]=o.pdf(_[k]);return{labels:_,datasets:[{data:N,backgroundColor:"#0c03"}]}}),g=T(!1),D=[{text:"圖表",value:"chart"},{text:"計算",value:"calc"}],V=T(D[0].value),C=d({get(){return o.chart.extended},set(s){isNaN(s)||(o.chart.extended=s)}}),q=j(1,5,C,{min:0,max:100}),P=d({get(){return o.chart.points},set(s){isNaN(s)||(o.chart.points=s)}}),Q=j(50,100,P,{min:50,max:2e3}),X=d({get(){return o.calc.place},set(s){!isNaN(s)&&Number.isInteger(s)&&(o.calc.place=s)}}),c=T(!0),h=ue({plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(s){const t=s.parsed.x,r=[];return t<=u.value[0]&&r.push("below"),u.value[0]<=t&&t<=u.value[1]&&r.push("between"),t>=u.value[1]&&r.push("above"),`${s.parsed.y} (${r.join(",")})`}}}},scales:{x:{grid:{display:c.value}},y:{min:0,grid:{display:c.value}}}});return de(c,s=>{h.scales.x.grid.display=s,h.scales.y.grid.display=s}),(s,t)=>{const r=Z;return p(),G(pe,{class:"d-flex flex-column h-100 pa-0 bg-white","max-width":"950"},{default:n(()=>[l(ae,{noGutters:""},{default:n(()=>[l(S,{class:"elevation-3 px-2 py-4 d-flex flex-wrap justify-space-evenly align-content-start"},{default:n(()=>[l(r,{type:"bar",data:a(O),options:a(h)},{title:n(()=>[t[0]||(v(-1,!0),(t[0]=x("div",{class:"text-center"},[t[13]||(t[13]=L(" Partical Mass Function ")),l(ce,{class:"float-right cursor-pointer",icon:"mdi-cog",onClick:e=>g.value=!0},null,8,["onClick"])])).cacheIndex=0,v(1),t[0])]),_:1},8,["data","options"]),l(Y,{modelValue:a(g),"onUpdate:modelValue":t[8]||(t[8]=e=>U(g)?g.value=e:null),"max-width":"300","min-height":"400"},{default:n(()=>[l(fe,null,{default:n(()=>[l(ve,{tag:"h2",class:"font-weight-bold bg-primary d-flex align-center justify-space-between"},{default:n(()=>[t[14]||(t[14]=L(" 設定 ")),l(be,{icon:"mdi-close",density:"compact",variant:"text",onClick:t[1]||(t[1]=e=>g.value=!1)})]),_:1}),l(ge,{modelValue:a(V),"onUpdate:modelValue":t[2]||(t[2]=e=>U(V)?V.value=e:null),class:"flex-0-0-100",items:D,"bg-color":"blue-grey-darken-2",color:"white",grow:"","hide-slider":""},{default:n(()=>[(p(),y(w,null,$(D,e=>l(Ve,{key:e.value,class:"text-body-1",value:e.value,"base-color":"blue-grey-lighten-3",variant:"tonal",ripple:!1},{default:n(()=>[L(b(e.text),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),l(xe,{class:"overflow-y-auto overflow-x-hidden pt-2"},{default:n(()=>[a(V)==="chart"?(p(),y(w,{key:0},[l(K,{modelValue:a(c),"onUpdate:modelValue":t[3]||(t[3]=e=>U(c)?c.value=e:null)},{prepend:n(({id:e})=>[l(A,{for:e.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"格線"},null,8,["for"])]),_:1},8,["modelValue"]),l(m,{label:"延伸範圍",min:"0",max:"100",suffix:"%","model-value":a(C),"onUpdate:modelValue":t[4]||(t[4]=e=>C.value=+e),onKeydown:a(q)},{prepend:n(({props:e,text:i})=>[x("div",I(e,{class:"text-left"}),b(i),17)]),_:1},8,["model-value","onKeydown"]),l(m,{label:"數量",min:"50",max:"2000",step:"50","model-value":a(P),"onUpdate:modelValue":t[5]||(t[5]=e=>P.value=+e),onKeydown:a(Q)},{prepend:n(({props:e,text:i})=>[x("div",I(e,{class:"text-left"}),b(i),17)]),_:1},8,["model-value","onKeydown"])],64)):a(V)==="calc"?(p(),y(w,{key:1},[l(K,{modelValue:a(o).calc.toPercentage,"onUpdate:modelValue":t[6]||(t[6]=e=>a(o).calc.toPercentage=e)},{prepend:n(({id:e})=>[l(A,{for:e.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"百分比"},null,8,["for"])]),_:1},8,["modelValue"]),l(m,{label:"小數位數",min:"0",max:"10",step:"1","model-value":a(X),"onUpdate:modelValue":t[7]||(t[7]=e=>X.value=+e)},{prepend:n(({props:e,text:i})=>[x("div",I(e,{class:"text-left"}),b(i),17)]),_:1},8,["model-value"])],64)):me("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),t[9]||(v(-1,!0),(t[9]=l(R,{class:"w-100 font-weight-bold",label:"計算結果",icon:"information-outline"},{default:n(()=>[l(ee,{activator:"parent",location:"bottom"},{default:n(()=>[x("div",null," L=min(p1,p2)="+b(a(u)[0]),1),x("div",null," R=max(p1,p2)="+b(a(u)[1]),1)]),_:1})]),_:1})).cacheIndex=9,v(1),t[9]),(p(),y(w,null,$(W,e=>l(m,{key:e.name,class:"flex-0-0",param:e,readonly:"",variant:"solo",flat:"",suffix:a(J),"model-value":a(z)[e.value]},null,8,["param","suffix","model-value"])),64))]),_:1}),l(S,{class:"border rounded-md px-2 py-4",cols:"4"},{default:n(()=>[t[10]||(v(-1,!0),(t[10]=M(l(R,{class:"font-weight-bold",label:"參數",icon:"information-outline"},null,512),[[B,"最大、最小值將自動調整","bottom"]])).cacheIndex=10,v(1),t[10]),(p(!0),y(w,null,$(a(o).paramRanges,e=>(p(),G(m,{key:e.name,param:e,"model-value":a(o).args[e.name],"onUpdate:modelValue":i=>a(o).setArg(e.name,+i)},null,8,["param","model-value","onUpdate:modelValue"]))),128)),l(te,{class:"my-3"}),M(l(R,{class:"font-weight-bold",label:"變數",icon:"information-outline"},null,512),[[B,a(H),"bottom"]]),l(m,{label:"p1=",param:a(o).varDomain,"model-value":a(o).vars[0],"onUpdate:modelValue":t[11]||(t[11]=e=>a(o).setVars(0,e))},null,8,["param","model-value"]),l(m,{label:"p2=",param:a(o).varDomain,"model-value":a(o).vars[1],"onUpdate:modelValue":t[12]||(t[12]=e=>a(o).setVars(1,e))},null,8,["param","model-value"])]),_:1})]),_:1})]),_:1})}}});export{$e as default};
