import{V as Y,a as Z,b as K,T as B}from"./DsEu8-dp.js";import{V as ee,b as S,d as A,a as m,P as R,e as ae,c as te}from"./Ihu9FsLu.js";import{u as le}from"./B4HBxniP.js";import{v as j,i as E,s as oe,a as se,l as ne,r as F}from"./D_4vyECL.js";import{d as re,t as ie,j as u,r as N,O as de,P as ue,H as G,B as n,G as t,x as p,A as l,v as y,D as v,y as b,C as T,Q as L,F as w,E as U,z as x,K as me,R as I,M}from"./D3-qf2Sj.js";import{V as pe}from"./BjDP0SKu.js";import{V as ce}from"./CWZRpT4U.js";import{V as fe,a as ve,b as be}from"./xK3NRMjz.js";import{V as xe,a as Ve,b as ge}from"./8gUhixet.js";import"./CFXWObnh.js";const Ue=re({__name:"discrete-distribution",setup(ye){ie({title:"Probability Calculator - Discrete Probability Distribution"});const o=le(),H=u(()=>{const s=o.distribution_,{min:a,max:r}=o.varDomain_,e=E(a)?"(-∞":s.isInDomain(o.args_,a)?`[${a}`:`(${a}`,i=E(r)?"∞)":s.isInDomain(o.args_,r)?`${r}]`:`${r})`;return`Domain: ${e}, ${i}`}),O=[{name:"P(X=L)",value:"left"},{name:"P(X=R)",value:"right"},{name:"P(X≤L)",value:"below"},{name:"P(X≥R)",value:"above"},{name:"P(X<L)",value:"belowExcl"},{name:"P(X>R)",value:"aboveExcl"},{name:"P(L≤X≤R)",value:"between"},{name:"P(X≤L or X≥R)",value:"outside"}],d=u(()=>oe(o.vars_)),W=u(()=>o.calcProb_(t(d))),z=u(()=>o.calc_.toPercentage_?"%":void 0),Q=u(()=>{const{chart_:{points_:s,extended_:a}}=o,[r,e]=d.value,i=a/200,f=Math.ceil((e-r)*i),X=e-r+1+2*f<=s||s===0?se(r-f,e+f,1,F):ne(r-f,e+f,s,F),h=Array(e-r+1+2*f);for(let _=0;_<h.length;_++)h[_]=o.pdf_(X[_]);return{labels:X,datasets:[{data:h,backgroundColor:"#0c03"}]}}),V=N(!1),P=[{text:"圖表",value:"chart"},{text:"計算",value:"calc"}],g=N(P[0].value),k=u({get(){return o.chart_.extended_},set(s){isNaN(s)||(o.chart_.extended_=s)}}),q=j(1,5,k,{min:0,max:100}),C=u({get(){return o.chart_.points_},set(s){isNaN(s)||(o.chart_.points_=s)}}),J=j(50,100,C,{min:50,max:2e3}),$=u({get(){return o.calc_.place_},set(s){!isNaN(s)&&Number.isInteger(s)&&(o.calc_.place_=s)}}),c=N(!0),D=de({plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(s){const a=s.parsed.x,r=[];return a<=d.value[0]&&r.push("below"),d.value[0]<=a&&a<=d.value[1]&&r.push("between"),a>=d.value[1]&&r.push("above"),`${s.parsed.y} (${r.join(",")})`}}}},scales:{x:{grid:{display:c.value}},y:{min:0,grid:{display:c.value}}}});return ue(c,s=>{D.scales.x.grid.display=s,D.scales.y.grid.display=s}),(s,a)=>{const r=Y;return p(),G(pe,{class:"d-flex flex-column h-100 pa-0 bg-white","max-width":"950"},{default:n(()=>[l(ee,{noGutters:""},{default:n(()=>[l(S,{class:"elevation-3 px-2 py-4 d-flex flex-wrap justify-space-evenly align-content-start"},{default:n(()=>[l(r,{type:"bar",data:t(Q),options:t(D)},{title:n(()=>[a[0]||(v(-1,!0),(a[0]=b("div",{class:"text-center"},[a[13]||(a[13]=T(" Partical Mass Function ")),l(ce,{class:"float-right cursor-pointer",icon:"mdi-cog",onClick:e=>V.value=!0},null,8,["onClick"])])).cacheIndex=0,v(1),a[0])]),_:1},8,["data","options"]),l(Z,{modelValue:t(V),"onUpdate:modelValue":a[8]||(a[8]=e=>L(V)?V.value=e:null),"max-width":"300","min-height":"400"},{default:n(()=>[l(fe,null,{default:n(()=>[l(ve,{tag:"h2",class:"font-weight-bold bg-primary d-flex align-center justify-space-between"},{default:n(()=>[a[14]||(a[14]=T(" 設定 ")),l(xe,{icon:"mdi-close",density:"compact",variant:"text",onClick:a[1]||(a[1]=e=>V.value=!1)})]),_:1}),l(Ve,{modelValue:t(g),"onUpdate:modelValue":a[2]||(a[2]=e=>L(g)?g.value=e:null),class:"flex-0-0-100",items:P,"bg-color":"blue-grey-darken-2",color:"white",grow:"","hide-slider":""},{default:n(()=>[(p(),y(w,null,U(P,e=>l(ge,{key:e.value,class:"text-body-1",value:e.value,"base-color":"blue-grey-lighten-3",variant:"tonal",ripple:!1},{default:n(()=>[T(x(e.text),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),l(be,{class:"overflow-y-auto overflow-x-hidden pt-2"},{default:n(()=>[t(g)==="chart"?(p(),y(w,{key:0},[l(K,{modelValue:t(c),"onUpdate:modelValue":a[3]||(a[3]=e=>L(c)?c.value=e:null)},{prepend:n(({id:e})=>[l(A,{for:e.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"格線"},null,8,["for"])]),_:1},8,["modelValue"]),l(m,{label:"延伸範圍",min:"0",max:"100",suffix:"%","model-value":t(k),"onUpdate:modelValue":a[4]||(a[4]=e=>k.value=+e),onKeydown:t(q)},{prepend:n(({props:e,text:i})=>[b("div",I(e,{class:"text-left"}),x(i),17)]),_:1},8,["model-value","onKeydown"]),l(m,{label:"數量",min:"50",max:"2000",step:"50","model-value":t(C),"onUpdate:modelValue":a[5]||(a[5]=e=>C.value=+e),onKeydown:t(J)},{prepend:n(({props:e,text:i})=>[b("div",I(e,{class:"text-left"}),x(i),17)]),_:1},8,["model-value","onKeydown"])],64)):t(g)==="calc"?(p(),y(w,{key:1},[l(K,{modelValue:t(o).calc_.toPercentage_,"onUpdate:modelValue":a[6]||(a[6]=e=>t(o).calc_.toPercentage_=e)},{prepend:n(({id:e})=>[l(A,{for:e.value,class:"ps-0 opacity-100 text-black",style:{width:"100px"},text:"百分比"},null,8,["for"])]),_:1},8,["modelValue"]),l(m,{label:"小數位數",min:"0",max:"10",step:"1","model-value":t($),"onUpdate:modelValue":a[7]||(a[7]=e=>$.value=+e)},{prepend:n(({props:e,text:i})=>[b("div",I(e,{class:"text-left"}),x(i),17)]),_:1},8,["model-value"])],64)):me("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[9]||(v(-1,!0),(a[9]=l(R,{class:"w-100 font-weight-bold",label:"計算結果",icon:"information-outline"},{default:n(()=>[l(ae,{activator:"parent",location:"bottom"},{default:n(()=>[b("div",null," L=min(p1,p2)="+x(t(d)[0]),1),b("div",null," R=max(p1,p2)="+x(t(d)[1]),1)]),_:1})]),_:1})).cacheIndex=9,v(1),a[9]),(p(),y(w,null,U(O,e=>l(m,{key:e.name,class:"flex-0-0",param:e,readonly:"",variant:"solo",flat:"",suffix:t(z),"model-value":t(W)[e.value]},null,8,["param","suffix","model-value"])),64))]),_:1}),l(S,{class:"border rounded-md px-2 py-4",cols:"4"},{default:n(()=>[a[10]||(v(-1,!0),(a[10]=M(l(R,{class:"font-weight-bold",label:"參數",icon:"information-outline"},null,512),[[B,"最大、最小值將自動調整","bottom"]])).cacheIndex=10,v(1),a[10]),(p(!0),y(w,null,U(t(o).paramRanges_,e=>(p(),G(m,{key:e.name,param:e,"model-value":t(o).args_[e.name],"onUpdate:modelValue":i=>t(o).setArg_(e.name,+i)},null,8,["param","model-value","onUpdate:modelValue"]))),128)),l(te,{class:"my-3"}),M(l(R,{class:"font-weight-bold",label:"變數",icon:"information-outline"},null,512),[[B,t(H),"bottom"]]),l(m,{label:"p1=",param:t(o).varDomain_,"model-value":t(o).vars_[0],"onUpdate:modelValue":a[11]||(a[11]=e=>t(o).setVars_(0,e))},null,8,["param","model-value"]),l(m,{label:"p2=",param:t(o).varDomain_,"model-value":t(o).vars_[1],"onUpdate:modelValue":a[12]||(a[12]=e=>t(o).setVars_(1,e))},null,8,["param","model-value"])]),_:1})]),_:1})]),_:1})}}});export{Ue as default};
